## 임베디드 타입

- 새로운 값 타입을 직접 정의할 수 있음

- JPA는 임베디드 타입(embedded type)이라 함

- 주로 기본 값 타입을 모아서 만들어서 복합 값 타입이라고도 함

- int, String과 같은 값 타입

ex)

회원 엔티티는 이름, 근무 시작일, 근무 종료일, 주소 도시, 주소 번지, 주소 우편번호를 가진다.

이를 임베디드 타입을 활용 하면 -> 회원 엔티티는 이름, 근무 기간, 집 주소를 가진다로 표현 가능하다.

### 임베디드 타입 사용법

- @Embeddable : 값 타입을 정의하는 곳에 표시

- @Embedded : 값 타입을 사용하는 곳에 표시

- 기본 생성자 필수!

### 임베디드 타입의 장점

- 재사용

- 높은 응집도

- Period.isWork()처럼 해당 값 타입만 사용하는 의미 있는 메소드를 만들 수 있음

- 임베디드 타입을 포함한 모든 값 타입은, 값 타입을 소유한 엔티티에 생명주기를 의존함

### 임베디드 타입과 테이블 매핑

![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/a27093ef-1a38-4581-998a-53e19e7d1b45/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2021-09-18_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.59.09.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210917%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20210917T160310Z&X-Amz-Expires=86400&X-Amz-Signature=4e07a15ca4bf69a83fb5df8740e47dc2518a2fb8d80a705a917b97bca3fb9196&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA%25202021-09-18%2520%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB%252012.59.09.png%22)

- 임베디드 타입은 엔티티의 값일 뿐이다.

- 임베디드 타입을 사용하기 전과 후에 매핑하는 테이블은 같다.

- 객체와 테이블을 아주 세밀하게 매핑하는 것이 가능

- 잘 설계한 ORM 애플리케이션은 매핑한 테이블의 수보다 클래스의 수가 더 많음

### @AttributeOverride : 속성 재정의

- 한 엔티티에서 같은 값 타입을 사용하면?

- 컬럼 명이 중복됨

- @AttributeOverrides, @AttributeOverride를 사용해서 컬럼 명 속성을 재정의