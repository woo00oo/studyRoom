### 다형성(polymorphism)

> 한 타입의 참조변수로 여러 타입의 객체를 참조할 수 있도록 함으로써 다형성을 프로그램적으로 구현.


조상클래스 타입의 참조변수로 자손클래스의 인스턴스를 참조할 수 있음.

ex) Tv t = new CaptionTv(); // 조상 타입의 참조변수로 자손 인스턴스를 참조.

CaptionTv c = new CaptionTv();

Tv t = new CaptionTv();

둘 다 같은 타입의 인스턴스지만 참조변수의 타입에 따라 사용할 수 있는 멤버의 개수가 달라진다.
즉 참조변수 t는 CaptionTv의 멤버변수와 메소드를 사용할 수 없다.

> 조상타입의 참조변수로 자손타입의 인스턴스를 참조할 수 있다.
>반대로 자손타입의 참조변수로 조상타입의 인스턴스를 참조할 수 없다.

=> 참조변수가 사용할 수 있는 맴버의 개수는 인스턴스의 멤버 개수보다 같거나 적어야 한다.

#### 참조변수의 형변환

자손타입 -> 조상타입(Up-casting) : 형변환 생략가능
자손타입 <- 조상타입(Down-casting) : 형변환 생략불가

다운 케스팅 생략 가능이유?

: 자손타입의 참조변수는 조상타입의 참조변수로 형변환 할 시 참조변수가 자룰 수 있는 멤버의 개수가 실제 인스턴스가 갖고 있는 멤버의 개수보다 적을 것이 분명하므로 문제가 되지 않는다.
즉 형변환을 생략할 수 있도록 한 것이다.

> 형변환은 참조변수의 타입을 변환하는 것이지 인스턴스를 변환하는 것은 아니기 때문에 참조변수의 형변환은 인스턴스에 아무런 영향을 미치지 않는다. 단지 참조변수의 형변환을 통해서, 참조하고 있는
>인스턴스에서 사용할 수 있는 멤버의 범위(개수)를 조절하는 것뿐이다.

주의 !

참조변수가 가리키는 인스턴스의 자손타입으로 형변환은 허용되지 않는다. 그래서 참조변수가 가리키는 인스턴스의 타입이 무엇인지 확인하는 것이 중요하다.

자손타입의 참조변수로 조상타입의 인스턴스를 참조할 수 없기 때문이다!!

#### instanceof 연산자

> 참조변수가 참조하고 있는 인스턴스의 실제타입을 알아보기 위해 instanceof연산자를 사용.

instanceof의 왼쪽에는 참조변수를 오른쪽에는 타입(클래스명)이 피연산자로 위치.

반환형은 boolean true를 얻었다는 것은 검사한 타입으로 형변환이 가능하다는 것을 뜻한다.

조상타입도 true

```java
CaptionTv c = new CaptionTv(); //Tv 클래스의 자손클래스

if(c instanceof CaptionTv){ // true
}

if(c instanceof Tv){ // true
}

if(c instanceof Object){ // true
}

```

#### 참조변수와 인스턴스의 연결

메서드의 경우 조상 클래스의 메서드를 자손의 클래스에서 오버라이딩한 경우에 참조 변수의 타입에 관계없이 항상 실제
인스턴스의 메서드(오버라이딩된 메서드)가 호출되지만, 멤버변수의 경우 참조변수의 타입에 따라 달라진다.

멤버변수가 조상 클래스와 자손 클래스에 중복으로 정의된 경우, 조상타입의 참조변수를 사용했을 때는 조상 클래스에 선언된 멤버변수가 사용되고, 자손타입의 참조변수를 사용했을 때는
자손 클래스에 선언된 멤버변수가 사용된다.